const script = document.createElement(&#39;script&#39;); script.src = &#39;https://cdn.jsdelivr.net/gh/tomglo10/Blogger-assets@main/assets/js/related.js&#39;; script.onerror = () =&gt; { const fallback = document.createElement(&#39;script&#39;); fallback.src = &#39;https://yourblog.blogspot.com/path/to/fallback/related.js&#39;; document.head.appendChild(fallback); }; document.head.appendChild(script);</script>
<script>const tocContainer=document.querySelector(&quot;.post-body&quot;),headings=tocContainer.querySelectorAll(&quot;h2, h3, h4, h5, h6&quot;);if(headings.length&gt;2){const e=document.createElement(&quot;details&quot;);e.classList.add(&quot;toc-content&quot;);const t=document.createElement(&quot;summary&quot;);t.innerHTML=&quot;<strong>Table of Contents</strong>&quot;,e.appendChild(t),headings.forEach((t=&gt;{t.id=t.id||t.textContent.toLowerCase().replace(/\W/g,&quot;-&quot;);const n=document.createElement(&quot;p&quot;);n.classList.add(&quot;toc-&quot;+t.tagName.toLowerCase());const o=document.createElement(&quot;a&quot;);o.classList.add(&quot;toc-link&quot;),o.textContent=t.textContent,o.href=&quot;#&quot;+t.id,n.appendChild(o),e.appendChild(n)})),tocContainer.prepend(e)}
